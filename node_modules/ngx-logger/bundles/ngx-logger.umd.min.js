!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/common"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-logger",["exports","@angular/core","@angular/common/http","@angular/common","rxjs"],t):t(e["ngx-logger"]={},e.ng.core,e.ng.common.http,e.ng.common,e.rxjs)}(this,function(e,t,i,r,c){"use strict";function o(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var r,n,i=o.call(e),c=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)c.push(r.value)}catch(a){n={error:a}}finally{try{r&&!r.done&&(o=i["return"])&&o.call(i)}finally{if(n)throw n.error}}return c}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var n=function(){function e(e){this.http=e}return e.prototype.logOnServer=function(e,t,o){var r=o||new i.HttpHeaders;r.set("Content-Type","application/json");var n={headers:r};return this.http.post(e,t,n)},e}();n.decorators=[{type:t.Injectable}],n.ctorParameters=function(){return[{type:i.HttpClient}]};var d={TRACE:0,DEBUG:1,INFO:2,LOG:3,WARN:4,ERROR:5,OFF:6};d[d.TRACE]="TRACE",d[d.DEBUG]="DEBUG",d[d.INFO]="INFO",d[d.LOG]="LOG",d[d.WARN]="WARN",d[d.ERROR]="ERROR",d[d.OFF]="OFF";var s=function(){},u=function(){function e(e){this.config=e,this._config=e}return e.prototype.updateConfig=function(e){this._config=this._clone(e)},e.prototype.getConfig=function(){return this._clone(this._config)},e.prototype._clone=function(t){var o=new s;return Object.keys(t).forEach(function(e){o[e]=t[e]}),o},e}(),h=function(){function e(){}return e.prepareMetaString=function(e,t,o,r){return e+" "+t+(o?" ["+o+":"+r+"]":"")},e.getColor=function(e){switch(e){case d.TRACE:return"blue";case d.DEBUG:return"teal";case d.INFO:case d.LOG:return"gray";case d.WARN:case d.ERROR:return"red";case d.OFF:default:return}},e.getCallerDetails=function(){var e=new Error("");try{var t=e.stack.split("\n")[4].split("/"),o=t[t.length-1].replace(/[)]/g,"").split(":");return{fileName:o[0],lineNumber:o[1]}}catch(r){return{fileName:null,lineNumber:null}}},e.prepareMessage=function(e){try{"string"==typeof e||e instanceof Error||(e=JSON.stringify(e,null,2))}catch(t){e='The provided "message" value could not be parsed with JSON.stringify().'}return e},e.prepareAdditionalParameters=function(e){return null===e||e===undefined?null:e.map(function(e,t){try{return"object"==typeof e&&JSON.stringify(e),e}catch(o){return"The additional["+t+"] value could not be parsed using JSON.stringify()."}})},e}(),v=["TRACE","DEBUG","INFO","LOG","WARN","ERROR","OFF"],l=function(){function e(e,t,o){this.httpService=e,this.platformId=o,this._isIE=r.isPlatformBrowser(o)&&!(-1===navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident\//)&&!navigator.userAgent.match(/Edge\//)),this.configService=new u(t),this._logFunc=this._isIE?this._logIE.bind(this):this._logModern.bind(this)}return e.prototype.trace=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(d.TRACE,e,t)},e.prototype.debug=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(d.DEBUG,e,t)},e.prototype.info=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(d.INFO,e,t)},e.prototype.log=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(d.LOG,e,t)},e.prototype.warn=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(d.WARN,e,t)},e.prototype.error=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this._log(d.ERROR,e,t)},e.prototype.setCustomHttpHeaders=function(e){this._customHttpHeaders=e},e.prototype.registerMonitor=function(e){this._loggerMonitor=e},e.prototype.updateConfig=function(e){this.configService.updateConfig(e)},e.prototype.getConfigSnapshot=function(){return this.configService.getConfig()},e.prototype._logIE=function(e,t,o,r){switch(r=r||[],e){case d.WARN:console.warn.apply(console,a([t+" ",o],r));break;case d.ERROR:console.error.apply(console,a([t+" ",o],r));break;case d.INFO:console.info.apply(console,a([t+" ",o],r));break;default:console.log.apply(console,a([t+" ",o],r))}},e.prototype._logModern=function(e,t,o,r){var n=h.getColor(e);switch(r=r||[],e){case d.WARN:console.warn.apply(console,a(["%c"+t,"color:"+n,o],r));break;case d.ERROR:console.error.apply(console,a(["%c"+t,"color:"+n,o],r));break;case d.INFO:console.info.apply(console,a(["%c"+t,"color:"+n,o],r));break;case d.TRACE:console.trace.apply(console,a(["%c"+t,"color:"+n,o],r));break;default:console.log.apply(console,a(["%c"+t,"color:"+n,o],r))}},e.prototype._log=function(e,t,o,r){var n=this;void 0===o&&(o=[]),void 0===r&&(r=!0);var i=this.configService.getConfig(),c=r&&i.serverLoggingUrl&&e>=i.serverLogLevel,a=!(e<i.level);if(t&&(c||a)){var s=v[e];t=h.prepareMessage(t);var u=h.prepareAdditionalParameters(o),l=(new Date).toISOString(),p=h.getCallerDetails(),g={message:t,additional:u,level:e,timestamp:l,fileName:p.fileName,lineNumber:p.lineNumber};if(this._loggerMonitor&&this._loggerMonitor.onLog(g),c&&(t=t instanceof Error?t.stack:t,g.message=t,this.httpService.logOnServer(i.serverLoggingUrl,g,this._customHttpHeaders).subscribe(function(e){},function(e){n._log(d.ERROR,"FAILED TO LOG ON SERVER: "+t,[e],!1)})),a){var f=h.prepareMetaString(l,s,p.fileName,p.lineNumber);return this._logFunc(e,f,t,o)}}},e}();l.decorators=[{type:t.Injectable}],l.ctorParameters=function(){return[{type:n},{type:s},{type:undefined,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]};var p=function(){function e(e,t){this.httpService=e,this.platformId=t}return e.prototype.create=function(e,t,o){var r=new l(t||this.httpService,e,this.platformId);return o&&r.registerMonitor(o),r},e}();p.decorators=[{type:t.Injectable}],p.ctorParameters=function(){return[{type:n},{type:undefined,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]};var g=function(){},f=function(){},y=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:s,useValue:e||{}},l,n,p]}},t.forChild=function(){return{ngModule:t,providers:[l,n,p]}},t}();y.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,i.HttpClientModule],providers:[l,n,p]}]}];var m=function(){function e(){}return e.prototype.trace=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.debug=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.info=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.log=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.warn=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.error=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o]},e.prototype.updateConfig=function(e){},e.prototype.setCustomHttpHeaders=function(e){},e.prototype.registerMonitor=function(e){},e.prototype.getConfigSnapshot=function(){return new s},e}(),R=function(){function e(){}return e.prototype.create=function(){return new m},e}(),O=function(){function e(){}return e.prototype.logOnServer=function(e,t,o,r,n){return c.of({})},e}(),N=function(){};N.decorators=[{type:t.NgModule,args:[{providers:[{provide:l,useClass:m},{provide:n,useClass:O},{provide:p,useClass:R}]}]}],e.LoggerModule=y,e.Levels=v,e.NGXLogger=l,e.LoggerConfig=s,e.CustomNGXLoggerService=p,e.NGXLoggerMonitor=g,e.NGXLoggerHttpService=n,e.NGXLoggerUtils=h,e.NgxLoggerLevel=d,e.NGXLogInterface=f,e.NGXLoggerMock=m,e.CustomNGXLoggerServiceMock=R,e.NGXLoggerHttpServiceMock=O,e.LoggerTestingModule=N,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-logger.umd.min.js.map
